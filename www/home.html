<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Example</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<style>
</style>
</head>

<!--https://icon-library.net//images/not-found-icon/not-found-icon-4.jpg-->

<body>
<div id="mydiv" class="container-fluid">
	<h1>Users</h1>
	<div class="row">
		<div class="col">
			<div v-for="user in users" class="card" v-bind:key="user._id">
				<div class="row no-gutters">
					<div class="col-md-8">
						<div class="card-body">
							<h5 class="card-title">Username: {{user.username}}</h5>
							<p class="card-text">Email: {{user.email}}</p>
							<p class="card-text">Password: {{user.password}}</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
	var app = new Vue({
		el: "#app",
		data: function (){
			return {
				users: []
			}
		},
		methods: {
            //funzione getUsers
            listUsers() {
                axios.get("http://localhost:3000/users")
                .then( response => {
					this.users = response.data;
					console.log(response);
				})
            },
			replaceByDefault(e){
				e.target.src = "https://icon-library.net//images/not-found-icon/not-found-icon-4.jpg"
			}
		},
		mounted: function(){
			// chiamare funzione listMovies
            //this.listMovies();
            this.listUsers();
		},
		filters: {
			limit(text,length){
				if(text==null) return ""
				return text.substring(0,length)
			}
		}
	})
</script>

</body>
</html>